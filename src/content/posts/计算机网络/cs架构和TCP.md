---
title: cs架构和TCP
date: 2024-06-13
summary: 介绍了客户端/服务端架构
tags: [计算机网络]
category: 网络编程
comments: true
draft: true
sticky: 0
---

当我们需要传输一串字符数据时，需要提前给出字符串的长度，否则读取时会将后面的信息作为需要接收的信息给吸收掉，使得后面在等待接收的reader没有接收的东西，同时这里没有长度的信息也不是我们想要的信息（混杂了后面的信息）。但同时问题又出现了，如何接收字符串的长度（int）？如果再发送一个int来描述字符串长度的信息，就会一直没有结果，无法结束。通过交流，可以将int类型的数字都封装为固定长度，这样每次接收int数据时就可以根据这个固定长度来接收，接收到了字符串的长度，字符串也就容易被接受了，这是对发送文件前准备的思考。

在传输文件时，我们知道了文件大小之后该如何防止多读呢？一个有效的办法是，每次成功读取后都将文件大小size减去成功接收的数据大小，接着就判断接收的文件大小size是否等于0，等于0时就说明文件已经传输完毕。
