---
title: 【计算机网络】- 链路层
date: 2024-06-10
summary: 介绍了链路层面的差错检验(奇偶检验和循环冗余检验)，传输过程中的物理地址，交换机
tags: [差错检验]
category: 计算机网络
comments: true
draft: false
sticky: 0
---

- 透明传输

- 差错检测
  奇偶校验、循环冗余校验

## 差错检验

### **奇偶校验**

奇校验：通过添加一个校验位，使得添加后整个数据比特位1的个数为奇数  
偶校验：通过添加一个校验位，使得添加后整个数据比特位1的个数为偶数  
当有偶数个比特被改变时，无法正确检验，会出现误检

### **循环冗余校验(Cyclic Redundancy Check CRC)**

通过计算出一个冗余码来确定是否出现错误

#### **发送方**

将数据转换为一个多项式，比如 $G(x)=x^{3}+x^{2}+1$  
将数据末尾加上*多项式个数*个0（这里是3个）作为**被除数**  
选取**多项式系数**作为除数 （这里是1101）  
求得余数为1  
**冗余码需要与多项式的最高次相同，位数不够需要在前面补0**  
因此最终的码为001  
发送的数据为 **数据+冗余码**

![./img/循环冗余检验.png]  
![循环冗余检验 CRC](https://raw.githubusercontent.com/blankxiao/blankxiao.github.io/main/public/imgs/computer_network/cyclic_redundancy_check.png)

计算中，两个进行计算相当于*异或*, 即不同为1，相同为0

#### **接收方**

接受方收到的是**数据+冗余码**  
使用**多项式系数**除以接收到的东西  
余数为0则无误

## CSMA/CD（介质访问控制协议）

1. 载波监听（Carrier Sense）：设备在发送数据之前，首先监听网络介质，如果检测到网络介质上存在信号（即载波），则表示介质正在被占用，设备将等待一段时间再尝试发送。

2. 多路访问（Multiple Access）：如果网络介质空闲，设备可以开始发送数据。

3. 冲突检测（Collision Detection）：设备在发送数据的同时，继续监听介质，以检测是否有其他设备同时发送数据。如果检测到冲突（即多个设备同时发送数据导致信号碰撞），设备会立即停止发送，并发送一个特殊的信号（冲突信号）通知其他设备发生了冲突。

4. 退避与重传（Backoff and Retransmission）：在发生冲突后，设备会等待一段**随机的时间**，然后重新尝试发送数据。

## MAC地址/物理地址

1. MAC地址（物理地址 Media Access Control）：

   - MAC地址是一个全球唯一的标识符，用于标识网络设备（如网卡）的硬件地址。
   - 它由48位二进制数字组成，通常用六个十六进制数表示（每两个数字之间用冒号或连字符分隔）。
   - MAC地址是在设备制造时分配的，无法更改，用于在局域网中唯一标识设备。
   - 在以太网等数据链路层上，数据帧使用目标MAC地址来直接寻址和传输数据。

2. IP地址：
   - IP地址用于标识网络中的主机（计算机、路由器等），以便在网络上进行寻址和路由。
   - IP地址是一个逻辑地址，用于在网络中唯一标识主机和网络接口。
   - IPv4地址由32位二进制数字组成，通常用四个十进制数表示（每个数的取值范围为0-255，用点分隔）。
   - IPv6地址由128位二进制数字组成，通常用八个四位十六进制数表示（每个数之间用冒号分隔）。

二者的关系和映射：
在实际网络通信中，通常使用ARP（Address Resolution Protocol 地址解析协议）来将IP地址映射到对应的MAC地址。  
每个IP节点都有ARP表，用于保存所属局域网内的部分节点的IP/MAC地址映射  
格式为< IP 地址 MAC 地址 TTL>  
TTL (Time To Live)：删除某个映射的时间

## **交换机**

链路层设备
存储转发以太网帧  
检查帧的目的MAC地址，以转发帧  
全双工（双向传输）  
主机直接与交换机接口 相连  
自学、广播得出转发表

### 交换机和路由器的区别

- **交换机（Switch）**：
  - 工作在数据链路层（第2层）。
  - 根据目标MAC地址转发数据帧。
  - 主要用于本地网络（LAN）中的设备互连。
- **路由器（Router）**：
  - 工作在网络层（第3层）。
  - 根据目标IP地址转发数据包。
  - 主要用于连接不同的网络（如不同的LAN或WAN）。
